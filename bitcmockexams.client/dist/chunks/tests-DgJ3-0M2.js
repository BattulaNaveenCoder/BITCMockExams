import{d as f,p as y,n as b}from"../assets/index-D77BABSw.js";import{r as g}from"./react-vendor-DKmEC8F-.js";const v=()=>{const i=f();return g.useMemo(()=>({getTestsByUserId:async(t,s)=>{const n=`https://a2z-tests.azurewebsites.net/api/TestBuyerSubscription/GetUsersTestSubscriptionsByUserId/${encodeURIComponent(t)}/${encodeURIComponent(s)}/User`;try{const e=await i.get(n,!0);return e?Array.isArray(e)?e:Array.isArray(e?.data)?e.data:[]:[]}catch(e){return console.error("Failed to fetch user test subscriptions:",e),[]}},getTestViewModel:async(t,s,a=0,n,e=!0)=>{const r=`https://a2z-tests.azurewebsites.net/api/BuyerTest/GetTestViewModel/${a}/${encodeURIComponent(t)}/${encodeURIComponent(s)}`;try{let c={};const p=localStorage.getItem("AuthToken")||"",l=y(p),u=b(l);u&&(c={UserName:n?.UserName??u.name??"",UserImage:n?.UserImage??u.image??""});const m={...c,...n??{}},d=await i.post(r,m,{showGlobalLoader:e});return d?d?.data??d:null}catch(c){return console.error("Failed to fetch test view model:",{testId:t,userId:s,skip:a,error:c}),null}},isTestSubscribed:async(t,s,a=!0)=>{const e=`https://a2z-tests.azurewebsites.net/api/BuyerTest/IsTestSubscribed/${encodeURIComponent(t)}/${encodeURIComponent(s)}`;try{const o=await i.get(e,{showGlobalLoader:a}),r=o?.data??o;return typeof r=="string"?/^true$/i.test(r):typeof r=="boolean"?r:typeof r=="number"?r!==0:!1}catch(o){return console.error("Failed to check IsTestSubscribed:",{testId:t,userId:s,error:o}),!1}},getUserTestReview:async(t,s)=>{const n=`https://a2z-tests.azurewebsites.net/api/TestReviews/GetUserTestReview/${encodeURIComponent(t)}/${encodeURIComponent(s)}`;try{const e=await i.get(n,!0);return e?.data??e??null}catch(e){return console.error("Failed to fetch user test review:",{userId:t,examId:s,error:e}),null}},getCurrentExamQuestion:async(t,s,a,n=!0)=>{const o=`https://a2z-tests.azurewebsites.net/api/BuyerTest/GetCurrentExamQuestion/${t}/${s}`;try{let r={...a};const c=localStorage.getItem("AuthToken")||"",p=y(c),l=b(p);l&&(r.UserName===void 0&&(r.UserName=l.name??""),r.UserImage===void 0&&(r.UserImage=l.image??""));const u=await i.put(o,r,{showGlobalLoader:n});return u?.data??u??null}catch(r){return console.error("Failed to persist current exam question:",{isExamOver:t,isUpdate:s,error:r}),null}},getVideosLinkForQuestion:async t=>{const a=`https://a2z-tests.azurewebsites.net/api/BuyerTest/GetVidoesLinkForQues/${encodeURIComponent(t)}`;try{const n=await i.get(a,!0),e=n?.data??n;return Array.isArray(e)?e:null}catch(n){return console.error("Failed to fetch videos link for question:",{questionId:t,error:n}),null}},activateTestBuyerSubscription:async(t,s,a)=>{const e=`https://a2z-tests.azurewebsites.net/api/TestBuyerSubscription/ActivateTestBuyerSubscription/${encodeURIComponent(t)}/${encodeURIComponent(s)}/${encodeURIComponent(a)}`;try{const o=await i.post(e,{},!0),r=o?.data??o;return typeof r=="string"?/^true$/i.test(r):typeof r=="boolean"?r:typeof r=="number"?r!==0:!1}catch(o){return console.error("Failed to activate test buyer subscription:",{userId:t,testSuiteId:s,testId:a,error:o}),!1}},getBuyerTestById:async(t,s=!0)=>{const n=`https://a2z-tests.azurewebsites.net/api/BuyerTest/GetBuyerTestById/${t}`;try{const e=await i.get(n,s);return e?.data??e??null}catch(e){return console.error("Failed to fetch buyer test by ID:",{buyerTestId:t,error:e}),null}},getAllExamQuestionsById:async(t,s=!0)=>{const n=`https://a2z-tests.azurewebsites.net/api/TestQuestion/GetAllExamQuestionsbyId/${encodeURIComponent(t)}`;try{const e=await i.get(n,{showGlobalLoader:s}),o=e?.data??e;return Array.isArray(o)?o:null}catch(e){return console.error("Failed to fetch exam questions by TestId:",{testId:t,error:e}),null}},getAllOptionsWithQuestionId:async(t,s=!0)=>{const n=`https://a2z-tests.azurewebsites.net/api/TestQuestion/GetAllOptionsWithQuestionId/${encodeURIComponent(t)}`;try{const e=await i.get(n,{showGlobalLoader:s}),o=e?.data??e;return Array.isArray(o)?o:null}catch(e){return console.error("Failed to fetch options for question:",{questionId:t,error:e}),null}}}),[i])};export{v as u};
